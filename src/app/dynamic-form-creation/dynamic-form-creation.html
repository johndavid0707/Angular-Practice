<h2>Dynamic Form Creation</h2>

<!--You can generate form structure dynamically from metadata (field configs, API responses, etc.).-->

<form [formGroup]="form" (ngSubmit)="submit()">

  <div *ngFor="let field of fields">
    <label>{{ field.label }} : </label>

    <input
      [type]="field.type"
      [formControlName]="field.key"
    />

    <!-- Validation messages -->
    <div style="color:red" *ngIf="form.get(field.key)?.touched">

      <span *ngIf="form.get(field.key)?.hasError('required')">
        {{ field.label }} is required
      </span>

      <span *ngIf="form.get(field.key)?.hasError('email')">
        Invalid email format
      </span>

      <span *ngIf="form.get(field.key)?.hasError('min')">
        Minimum age is 18
      </span>

    </div>
  </div>

  <br />
  <button type="submit">Submit</button>

</form>

<hr />

<h3>Form Value (Live)</h3>
<pre>{{ form.value | json }}</pre>
