<h2>Template Driven Forms</h2>

<form #f="ngForm" (ngSubmit)="onSubmit(f)">
  <label>Name: </label>
  <input name="name" [(ngModel)]="user.name" required> <br>

  <label>Email:</label>
  <input name="email" [(ngModel)]="user.email" email required> <br>

  <button [disabled]="f.invalid">Submit</button>
</form>


<hr>

<h3>Live Form Tracking Demo</h3>

<form #formRef="ngForm" (ngSubmit)="onSubmit(f)">
  <label>Name:</label>
  <input name="name" [(ngModel)]="user.name" required minlength="3" maxlength="20" pattern="^[A-Za-z ]+$"
    #nameRef="ngModel" [class.invalid]="nameRef.invalid && nameRef.touched" [class.valid]="nameRef.valid">

  <p *ngIf="nameRef.touched && nameRef.invalid" style="color:red">
    Name is required
  </p> <br>

  <p *ngIf="nameRef.touched && nameRef.errors?.['minlength']" style="color:red">
    Name must be at least 3 characters
  </p> <br>

  <p *ngIf="nameRef.touched && nameRef.errors?.['pattern']" style="color:red">
    Only letters allowed
  </p> <br>

  <!-- pattern="^[0-9]{10}$"  it allows only numbers-->

  <!-- <p *ngIf="nameRef.touched && nameRef.errors?.['pattern']" style="color:red">
    Only numbers allowed
  </p> <br> -->


  <label>Email:</label>
  <input name="email" [(ngModel)]="user.email" email required #emailRef="ngModel"
    [class.invalid]="emailRef.invalid && emailRef.touched" [class.valid]="emailRef.valid">

  <p *ngIf="emailRef.touched && emailRef.invalid" style="color:red">
    Email is required
  </p> <br>

  <button [disabled]="formRef.invalid">Submit</button>
</form>

<h4>ğŸ” Live Form Data:</h4>
<pre>{{ user | json }}</pre>

<h4>ğŸ§­ Form State:</h4>
<ul>
  <li>Form valid: {{ formRef.valid }}</li>
  <li>Form Invalid: {{ formRef.invalid }}</li>
  <li>Form dirty: {{ formRef.dirty }}</li>
  <li>Form touched: {{ formRef.touched }}</li>
  <li>Form pristine: {{ formRef.pristine }}</li>

  <li>Name valid: {{ nameRef.valid }}</li>
  <li>Email valid: {{ emailRef.valid }}</li>
</ul>